# configs/hydra.yaml

# Hydra defaults to manage configuration composition
defaults:
  - _self_
  - cnn_config
  - icd_config
  # You can add more defaults here (e.g., override groups)

# Global project settings
project_name: "HINT"
artifact_dir: "artifacts"

# Hydra-specific settings
hydra:
  run:
    # Set the output directory for logs.
    # Pattern: logs/runs/YYYY-MM-DD/HH-MM-SS
    dir: logs/runs/${now:%Y-%m-%d}/${now:%H-%M-%S}
  
  sweep:
    # Set the output directory for multirun sweeps.
    dir: logs/multirun/${now:%Y-%m-%d}/${now:%H-%M-%S}
    subdir: ${hydra.job.num}

  job:
    # Change working directory to the run directory (useful for saving relative artifacts)
    chdir: true
    
  # Configure logging
  job_logging:
    version: 1
    formatters:
      simple:
        format: "[%(asctime)s][%(name)s][%(levelname)s] - %(message)s"
    handlers:
      console:
        class: logging.StreamHandler
        formatter: simple
        stream: ext://sys.stdout
      file:
        class: logging.FileHandler
        formatter: simple
        filename: hydra_job.log
    root:
      handlers: [console, file]
      level: INFO

  # Disable output directory creation if needed (usually kept enabled)
  output_subdir: .hydra