mode: icd
seed: 42
logging:
  core_logs_dir: outputs/${now:%Y-%m-%d}/${now:%H-%M-%S}
  artifacts_dir: artifacts
etl:
  data:
    raw_dir: data/raw
    proc_dir: data/processed
    resources_dir: resources
  cohort:
    min_los_icu_days: 0.0
    min_duration_hours: 0
    max_duration_hours: 999999
    min_age: 0
  processing:
    input_window_h: 6
    gap_h: 6
    pred_window_h: 4
icd:
  data_path: data/processed/dataset_123_answer.parquet
  model_name: Charangan/MedBERT
  batch_size: 2048
  lr: 1.0e-05
  epochs: 100
  patience: 5
  dropout: 0.3
  num_workers: 4
  pin_memory: true
  max_length: 32
  test_split_size: 0.2
  val_split_size: 0.125
  top_k_labels: 500
  topk_eval: 5
  xai_bg_size: 128
  xai_sample_size: 32
  xai_nsamples: auto
  sampler_alpha: 0.5
  cb_beta: 0.999
  focal_gamma: 1.5
  logit_adjust_tau: 1.0
  entropy_reg_lambda: 0.001
  freeze_bert_epochs: 1
  pca_components: 0.95
  xgb_params:
    n_estimators: 100
    max_depth: 6
    learning_rate: 0.1
    tree_method: hist
    objective: multi:softprob
cnn:
  data:
    path: data/processed/dataset_123_answer.parquet
    data_cache_dir: data/cache
    exclude_cols:
    - ICD9_CODES
  model:
    seq_len: 120
    batch_size: 512
    epochs: 100
    lr: 0.001
    patience: 10
    use_cosine_scheduler: false
    T_0: 10
    lr_patience: 5
    focal_gamma: 2.0
    label_smoothing: 0.1
    ema_decay: 0.999
    embed_dim: 128
    cat_embed_dim: 32
    dropout: 0.5
    tcn_kernel_size: 5
    tcn_layers: 5
    tcn_dropout: 0.4
